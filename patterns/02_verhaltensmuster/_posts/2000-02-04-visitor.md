---
title: Visitor
permalink: /patterns/verhaltensmuster/visitor
sidebar:
    nav: verhaltensmuster
---

Visitor ermöglicht es, neue Operationen auf den Elementen einer Struktur zu definieren, ohne die Elemente selbst anzupassen.

> siehe: [GitHub](https://github.com/KarlEilebrecht/patterns-kompakt-code/blob/main/src/test/java/de/calamanari/pk/visitor/README.md), [GOF](/literature#gof), [STEMA](/literature#stema), [PK](/literature#pk)

#### Klassendiagramm

![](/images/patterns/visitor/visitor_cn.png)

#### Beispiel

In unserem kleinen B2B-Geschäft haben wir es mit verschiedenen Firmen zu tun (unseren Kunden).
Dabei haben wir es häufig mit Unternehmensstrukturen (Holding, Firma, Abteilung etc.) zu tun.
Auf jeder Ebene werden ggf. Rabatte gewährt, wobei genau festgelegt ist, welche kombiniert werden dürfen und welche nicht.

![](/images/patterns/visitor/visitor_cx.png)

Visitor ermöglicht hier, den *konkreten* Rabatt zu bestimmen.

![](/images/patterns/visitor/visitor_dx.png)

Zur Ermittlung des Rabatts steigt der *Besucher* an der gewählten Stelle ein, fragt sich gewissermaßen durch, und rechnet den *konkreten* Rabatt aus.

Um das Zusammenspiel im Detail beobachten zu können, setzen Sie den log-level auf DEBUG in der logback.xml und führen den zugehörigen TestCase aus.

#### Ressourcen

> * [Quellcode (Projekt zum Download)](/patterns#codebeispiele)
> * [JavaDoc (API mit Quelltext online verlinkt)]()